<div class="containar">
  <div class="row">
    <div class="col-3">

    <%= render "profile",profile_user: @user, newpost: @newpost %>

    </div>
    <% if user_signed_in? %>

      <%= form_with model: @newpreset, url: user_presets_path(@user), method: :post do |f| %>
        <%= f.text_field :name %>
        <%= f.text_area :words %>
         <%= f.select :target, Preset.targets.keys %>
        <%= f.select :option, Preset.options.keys %>
        <%= f.submit "Create" %>
      <% end %>

      <% if @presets.any? %>
      <div class="offset-1">
        <%= @presets.each do |preset| %>
          <p><%= preset.name %></p>
          <p><%= preset.number %></p>
          <p><%= preset.words %></p>
          <p><%= preset.target %></p>
          <p><%= preset.option %></p>
        <% end %>
      <% end %>
      </div>
    <% end %>
    <div class="col-9">
        <ul class="tab list-unstyled">
          <li  class="active"><a href="#all">ALL</a></li>
          <li><a href="#preset1">プリセット１</a></li>
          <li><a href="#preset2">プリセット２</a></li>
          <li><a href="#preset3">プリセット３</a></li>
        </ul>

        <div id="all" class="area is-active">
          <h2>全件表示</h2>
          <%= render "post",posts: @posts %>
        <!--/area-->
        </div>

       <div id="preset1" class="area">
        <h2>プリセット１</h2>
        <ul>

        </ul>
      <!--/area-->
      </div>

       <div id="preset2" class="area">
        <h2>プリセット２</h2>

      <!--/area-->
      </div>

      <div id="preset3" class="area">
        <h2>プリセット３</h2>
        <!--/area-->
      </div>
    </div>
  </div>
</div>

<script>
  //任意のタブにURLからリンクするための設定
  function GethashID (hashIDName){
    if(hashIDName){
      //タブ設定
      $('.tab li').find('a').each(function() { //タブ内のaタグ全てを取得
        var idName = $(this).attr('href'); //タブ内のaタグのリンク名（例）#lunchの値を取得
        if(idName == hashIDName){ //リンク元の指定されたURLのハッシュタグ（例）http://example.com/#lunch←この#の値とタブ内のリンク名（例）#lunchが同じかをチェック
          var parentElm = $(this).parent(); //タブ内のaタグの親要素（li）を取得
          $('.tab li').removeClass("active"); //タブ内のliについているactiveクラスを取り除き
          $(parentElm).addClass("active"); //リンク元の指定されたURLのハッシュタグとタブ内のリンク名が同じであれば、liにactiveクラスを追加
          //表示させるエリア設定
          $(".area").removeClass("is-active"); //もともとついているis-activeクラスを取り除き
          $(hashIDName).addClass("is-active"); //表示させたいエリアのタブリンク名をクリックしたら、表示エリアにis-activeクラスを追加
        }
      });
    }
  }

  //タブをクリックしたら
  $('.tab a').on('click', function() {
    var idName = $(this).attr('href'); //タブ内のリンク名を取得
    GethashID (idName);//設定したタブの読み込みと
    return false;//aタグを無効にする
  });
</script>
